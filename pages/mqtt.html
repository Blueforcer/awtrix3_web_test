<div id="mqtt" class="page">
    <div class="content-card settings-section">
        <div class="section-header">
            <h2><i class="fas fa-network-wired"></i> MQTT Configuration</h2>
            <p class="section-description">Configure MQTT broker settings for remote device control and monitoring.</p>
        </div>

        <form id="mqttForm" class="settings-form">
            <!-- Connection Toggle -->
            <div class="form-section">
                <div class="setting-item">
                    <div class="checkbox-wrapper">
                        <label class="toggle-switch">
                            <input type="checkbox" id="MQTT_ACTIVE">
                            <span class="slider"></span>
                        </label>
                        <div class="setting-label">
                            <span>Enable MQTT Connection</span>
                            <small>Connect to an MQTT broker for remote control</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Broker Settings -->
            <div class="form-section mqtt-config">
                <h3>Broker Configuration</h3>
                <div class="settings-grid">
                    <div class="setting-item">
                        <label for="broker">
                            <i class="fas fa-server"></i> Broker Address
                            <span class="tooltip" data-tip="The hostname or IP address of your MQTT broker">?</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="text" 
                                   id="broker" 
                                   class="form-control" 
                                   placeholder="mqtt.example.com"
                                   data-validate="required">
                            <span class="validation-feedback"></span>
                        </div>
                    </div>

                    <div class="setting-item">
                        <label for="port">
                            <i class="fas fa-plug"></i> Port
                            <span class="tooltip" data-tip="The port number of your MQTT broker (default: 1883)">?</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="number" 
                                   id="port" 
                                   class="form-control" 
                                   value="1883"
                                   min="1"
                                   max="65535"
                                   data-validate="port">
                            <span class="validation-feedback"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Authentication -->
            <div class="form-section auth-config">
                <h3>Authentication</h3>
                <div class="settings-grid">
                    <div class="setting-item">
                        <label for="mqttUser">
                            <i class="fas fa-user"></i> Username
                            <span class="tooltip" data-tip="MQTT broker username (if required)">?</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="text" 
                                   id="mqttUser" 
                                   class="form-control" 
                                   placeholder="Username (optional)">
                        </div>
                    </div>

                    <div class="setting-item">
                        <label for="mqttPassword">
                            <i class="fas fa-key"></i> Password
                            <span class="tooltip" data-tip="MQTT broker password (if required)">?</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="password" 
                                   id="mqttPassword" 
                                   class="form-control" 
                                   placeholder="Password (optional)">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Topic Configuration -->
            <div class="form-section topic-config">
                <h3>Topic Settings</h3>
                <div class="setting-item">
                    <label for="topic">
                        <i class="fas fa-tag"></i> Topic Prefix
                        <span class="tooltip" data-tip="Base topic for all MQTT messages">?</span>
                    </label>
                    <div class="input-wrapper">
                        <input type="text" 
                               id="topic" 
                               class="form-control" 
                               placeholder="awtrix/device1/"
                               data-validate="required">
                        <span class="validation-feedback"></span>
                    </div>
                </div>
            </div>

            <div class="settings-actions">
                <button type="button" class="btn btn-secondary" id="testConnection">
                    <i class="fas fa-plug"></i>
                    Test Connection
                </button>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i>
                    Save Changes
                </button>
            </div>
        </form>

        <div class="settings-info">
            <div class="info-card">
                <i class="fas fa-info-circle"></i>
                <p>MQTT enables remote control and monitoring of your device. Changes take effect immediately after saving.</p>
            </div>
        </div>
    </div>
</div>